//
// Created by Bartosz Olewinski on 21/02/2022.
//

#ifndef RAYCASTER_MAP_H
#define RAYCASTER_MAP_H

#include <cstdio>
#include <unordered_map>
#include <vector>
#include "Sprite.h"

/**
 * Class responsible for map handling,
 * contains 2d char arrays which represent maps
 */
class Map {
private:


public:
    static const int MAP_SIZE = 20;

    unsigned char mapArray[MAP_SIZE][MAP_SIZE];


    /*LEGEND
     * '1' - DIRT WALL
     * '2' - BRICK WALL
     * '3' - STONE WALL
     * '4' - STONE WALL 2
     * '5' - DOOR GOLD
     * '6' - EXIT DOOR
     * '7' - DOOR SILVER
     *
     * '#' - START LOCATION
     * '!' - MONEY BAG
     * '$' - GOLD KEY
     * '&' - SILVER KEY
     *
     */

    /* TEMPLATE
    unsigned char emptyTemplate[MAP_SIZE][MAP_SIZE] = {
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
            '.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',
    };
     */

    unsigned char testMap[MAP_SIZE][MAP_SIZE] = {
            '1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1',
            '1','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','1',
            '1','.','1','1','.','2','2','.','3','3','.','4','4','.','.','.','.','.','.','1',
            '1','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','1',
            '1','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','1',
            '1','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','1',
            '6','.','.','.','.','.','.','.','.','.','.','.','.','2','.','2','.','2','.','1',
            '1','.','.','.','.','.','.','.','.','.','.','.','.','5','.','5','.','5','.','1',
            '1','.','!','!','!','.','.','.','.','.','.','.','.','2','.','2','.','2','.','1',
            '1','.','!','!','!','.','.','.','.','.','.','.','.','.','.','.','.','.','.','1',
            '1','.','.','.','.','.','.','#','.','.','.','.','.','3','.','3','.','3','.','1',
            '1','.','.','.','$','.','.','.','.','.','.','.','.','7','.','7','.','7','.','1',
            '1','.','.','.','$','.','.','.','.','.','.','.','.','3','.','3','.','3','.','1',
            '1','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','1',
            '1','.','.','.','&','.','.','.','.','.','.','.','.','.','.','.','.','.','.','1',
            '1','.','.','.','&','.','.','.','.','.','.','.','.','.','.','.','.','.','.','1',
            '1','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','1',
            '1','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','1',
            '1','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','1',
            '1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1',
    };

    unsigned char map01[MAP_SIZE][MAP_SIZE] = {
            '3','6','3','3','4','3','3','3','3','3','3','3','3','3','3','3','1','3','3','3',
            '3','.','3','.','!','.','3','.','.','.','.','.','.','!','.','.','2','!','.','3',
            '3','!','3','.','.','.','4','.','.','.','.','.','1','1','1','.','2','.','.','3',
            '3','.','5','.','.','.','.','.','.','.','.','.','.','.','.','.','2','.','.','3',
            '3','3','3','.','.','.','4','.','.','.','.','.','.','.','.','.','.','.','.','4',
            '.','.','3','.','!','.','3','!','.','.','.','.','.','.','.','.','2','2','.','3',
            '.','.','3','3','4','3','3','3','2','.','.','.','.','.','.','.','2','!','.','3',
            '.','.','.','.','.','.','2','2','2','.','.','2','.','!','!','.','2','.','.','3',
            '.','.','.','.','2','2','2','.','.','.','.','2','.','.','.','.','2','.','.','3',
            '.','.','.','.','2','2','.','.','.','.','.','.','.','.','.','.','2','4','4','1',
            '.','.','.','3','.','.','.','.','.','.','.','.','.','.','2','2','2','.','.','.',
            '.','3','3','3','.','.','.','.','.','.','.','.','.','.','.','.','1','.','.','.',
            '3','.','.','.','.','.','.','3','3','3','.','.','.','.','.','.','1','.','.','.',
            '3','.','.','.','.','.','.','.','3','3','3','.','.','.','.','.','1','.','.','.',
            '3','.','.','.','.','!','.','.','.','.','3','.','.','.','.','.','1','.','.','.',
            '3','.','.','.','3','.','3','.','.','.','3','.','.','.','1','.','1','.','.','.',
            '3','.','.','3','.','.','.','3','.','.','3','.','.','$','1','.','1','.','.','.',
            '3','.','.','3','.','.','.','3','.','.','3','.','.','1','1','.','1','.','.','.',
            '3','!','!','3','.','#','.','3','!','!','3','.','.','.','.','!','1','.','.','.',
            '1','4','4','1','3','4','3','1','4','4','1','1','1','1','1','1','1','.','.','.',
    };

    unsigned char map02[MAP_SIZE][MAP_SIZE] = {
            '2','2','2','2','.','.','.','.','.','.','.','.','.','2','2','2','2','2','2','2',
            '2','!','!','1','2','.','3','3','3','.','2','2','2','.','.','.','.','.','.','6',
            '2','.','1','1','2','3','.','.','.','3','!','.','.','.','.','.','2','2','2','3',
            '2','.','.','.','2','3','.','.','.','3','!','.','2','.','.','2','3','3','4','3',
            '2','1','1','.','2','3','.','.','.','3','4','2','2','.','.','2','3','!','.','3',
            '2','.','.','.','.','2','3','.','3','3','.','.','5','.','.','2','3','3','.','3',
            '2','.','.','.','!','2','3','.','3','3','.','3','.','.','.','2','3','.','.','3',
            '2','.','.','.','!','2','3','.','.','.','.','3','3','2','2','3','.','.','.','3',
            '2','.','.','2','2','2','3','.','.','.','.','3','3','3','3','.','.','.','.','3',
            '2','.','.','.','!','.','3','.','.','.','.','4','.','.','.','.','.','!','.','3',
            '.','2','.','3','4','3','3','.','.','.','3','3','.','.','.','.','.','.','.','3',
            '3','2','.','3','.','3','3','.','.','.','3','3','.','.','3','.','.','.','.','3',
            '3','.','.','3','.','3','3','.','3','4','3','3','3','.','3','.','.','.','3','.',
            '4','.','.','.','.','.','.','.','.','.','3','!','.','.','!','3','.','3','4','.',
            '4','.','!','.','.','.','.','.','.','.','3','$','.','.','3','3','.','.','.','3',
            '3','.','.','.','.','.','.','.','.','.','!','3','.','1','1','1','3','.','.','3',
            '3','3','3','3','.','3','3','.','3','.','.','!','1','.','.','.','1','1','.','1',
            '.','3','!','.','.','3','.','.','3','.','.','1','.','.','#','.','.','.','.','1',
            '.','3','!','.','.','3','!','.','4','.','.','.','.','.','1','.','.','.','.','1',
            '.','3','3','3','3','3','3','3','.','1','1','1','1','1','.','1','1','1','1','1',
    };

    unsigned char map03[MAP_SIZE][MAP_SIZE] = {
            '3','3','4','3','2','2','2','2','4','2','2','2','2','2','2','2','2','2','2','2',
            '3','.','.','.','.','.','2','.','.','.','.','.','2','.','.','.','.','.','.','2',
            '4','.','.','.','2','.','2','.','$','.','.','.','2','.','4','4','.','4','.','2',
            '3','!','!','!','2','.','.','!','.','!','2','.','2','.','.','.','!','4','!','2',
            '3','3','4','3','2','.','2','2','4','2','2','.','2','.','.','.','.','.','.','2',
            '1','1','.','.','2','!','2','.','&','.','2','.','2','.','4','.','!','.','.','2',
            '1','.','.','.','2','.','2','.','#','.','2','.','.','.','4','.','.','.','.','2',
            '1','.','1','.','.','.','2','.','.','.','2','.','2','.','.','.','.','.','.','2',
            '1','!','1','.','2','3','3','2','7','2','!','.','3','.','.','.','.','.','.','1',
            '1','.','.','.','3','.','!','3','.','3','.','.','3','.','2','1','1','2','1','2',
            '1','.','.','1','3','.','.','.','.','.','.','.','3','!','3','.','.','.','3','.',
            '1','.','1','!','3','.','.','.','.','.','.','.','3','4','6','4','.','3','.','3',
            '1','.','5','.','3','!','4','.','!','.','4','!','3','.','.','.','3','3','.','3',
            '1','.','1','.','3','.','.','.','.','.','.','.','3','.','.','.','3','.','.','3',
            '1','.','1','.','3','.','.','.','4','.','.','.','3','3','.','.','!','.','.','3',
            '1','.','1','.','3','.','.','.','!','.','.','.','3','!','3','3','3','.','.','3',
            '1','.','1','.','3','.','.','.','!','.','.','.','3','.','.','.','.','.','.','3',
            '1','!','1','.','!','3','3','3','3','3','3','3','.','.','.','.','.','3','!','3',
            '1','!','1','.','.','.','.','.','.','.','.','.','.','.','.','.','3','.','3','3',
            '1','4','1','4','1','1','1','1','1','1','1','1','1','3','3','3','.','.','.','3',
    };

    unsigned char map04[MAP_SIZE][MAP_SIZE] = {
            '2','2','2','2','2','2','2','2','2','2','2','2','2','2','2','2','2','2','2','.',
            '2','.','.','.','2','.','.','!','.','!','.','2','.','.','.','6','2','!','!','2',
            '2','&','4','.','2','.','.','2','2','2','.','2','.','2','2','2','2','.','.','2',
            '2','.','4','.','!','.','.','2','.','.','.','2','.','.','.','.','.','.','.','2',
            '2','.','.','.','2','.','.','2','.','.','!','2','2','.','.','2','.','.','.','2',
            '3','3','3','3','3','5','3','3','3','3','3','3','.','.','2','2','.','.','2','.',
            '3','.','!','.','.','!','.','.','!','.','.','3','.','2','.','.','.','.','1','1',
            '3','.','4','.','.','4','.','.','4','.','.','3','7','2','.','1','1','1','.','1',
            '3','.','.','.','.','.','.','.','.','.','.','3','!','2','.','.','7','.','.','1',
            '3','.','!','.','.','!','.','.','!','.','.','3','!','1','1','1','1','.','.','1',
            '4','.','4','.','.','4','.','.','4','.','.','3','.','1','.','.','.','.','1','.',
            '3','.','.','.','.','.','.','.','.','.','.','3','.','1','!','1','.','.','1','.',
            '3','.','.','.','.','.','.','.','.','.','.','3','.','1','!','.','1','.','1','.',
            '3','.','.','.','.','.','.','.','.','.','.','3','.','.','1','.','1','.','.','1',
            '1','1','.','1','3','3','3','.','3','3','.','3','.','.','1','.','.','1','.','1',
            '1','.','.','.','1','3','$','.','.','3','.','3','.','.','2','1','.','1','.','1',
            '1','.','4','.','1','4','.','.','.','4','.','3','2','.','2','1','.','1','.','1',
            '1','.','.','.','1','3','.','.','.','3','.','.','.','.','.','1','.','1','.','1',
            '1','.','#','.','1','3','.','!','.','3','.','.','.','.','.','.','.','.','.','1',
            '.','1','1','1','.','.','3','4','3','3','4','3','2','2','2','1','1','1','1','1',
    };

    unsigned char map05[MAP_SIZE][MAP_SIZE] = {
            '1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1',
            '1','!','.','3','!','!','3','.','.','.','.','.','.','.','.','3','.','!','!','1',
            '1','!','.','3','.','.','3','.','.','$','.','.','.','.','.','3','.','.','!','1',
            '1','3','.','3','.','.','.','.','.','4','.','.','.','.','.','3','.','.','.','1',
            '1','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','1',
            '1','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','3','3','1',
            '1','.','.','3','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','1',
            '1','.','.','3','3','3','3','3','.','.','.','3','3','3','3','.','.','.','.','1',
            '1','.','.','.','3','.','.','.','.','.','.','.','.','.','3','3','3','.','.','1',
            '1','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','1',
            '1','.','.','.','.','.','.','2','2','4','2','2','.','.','.','.','.','.','.','1',
            '1','2','.','2','2','.','.','.','.','.','.','.','.','.','2','.','.','3','4','3',
            '1','!','.','!','2','.','.','.','.','.','.','.','.','.','2','4','4','3','!','3',
            '1','1','1','1','2','!','4','.','.','#','.','.','4','!','2','!','!','3','.','3',
            '1','.','!','!','2','.','.','.','.','.','.','.','.','.','2','.','.','3','.','3',
            '6','.','.','.','.','2','.','2','2','2','2','2','.','2','2','.','.','.','.','3',
            '1','.','.','.','.','.','7','3','!','&','3','.','5','.','.','.','.','.','.','4',
            '1','1','1','1','.','.','.','3','.','.','3','.','.','.','.','.','3','3','3','3',
            '1','!','!','.','.','.','.','3','.','.','.','.','.','.','.','.','.','!','!','1',
            '1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','.',
    };

    unsigned char map06[MAP_SIZE][MAP_SIZE] = {
            '3','3','3','3','3','3','3','3','3','3','3','3','3','3','3','3','3','3','3','3',
            '3','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','3',
            '3','!','4','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','3',
            '3','.','.','.','.','2','2','2','2','.','.','.','.','.','.','.','.','.','.','3',
            '3','2','2','!','2','.','.','.','.','.','.','.','2','2','2','.','.','.','.','3',
            '3','.','$','2','.','.','.','.','.','.','.','2','.','.','.','4','.','.','.','3',
            '3','.','2','.','.','.','.','2','.','2','.','2','.','.','.','5','.','.','.','3',
            '3','.','2','.','.','.','.','2','.','2','.','2','.','4','.','4','.','.','.','3',
            '3','.','.','.','.','.','.','2','.','2','.','2','.','.','.','3','.','.','.','3',
            '3','2','2','.','.','2','2','2','.','2','.','2','.','.','.','3','.','.','.','3',
            '3','.','.','.','.','.','.','.','.','2','.','2','.','2','.','3','.','.','.','3',
            '3','.','.','.','.','.','.','.','.','2','.','2','&','2','!','3','.','.','.','3',
            '3','.','!','2','.','.','2','2','2','.','.','.','2','!','2','3','.','.','.','3',
            '3','.','2','!','.','2','.','.','.','.','.','.','.','.','.','3','.','.','.','3',
            '3','.','2','.','.','2','.','.','.','.','.','.','.','.','.','3','.','!','.','3',
            '3','.','2','!','.','3','.','3','3','4','4','3','3','3','3','.','.','.','.','3',
            '3','.','!','2','.','3','.','3','4','.','!','3','3','.','.','.','.','.','.','3',
            '3','.','.','2','.','1','.','3','6','.','.','7','.','.','.','.','.','#','.','3',
            '3','.','.','2','.','1','!','3','4','.','!','3','3','.','.','.','.','.','.','3',
            '3','3','3','3','3','3','3','3','3','4','4','3','3','3','3','3','3','3','3','3',
    };

    //map specific data
    int numOfSprites = 0;
    int maxPoints;

    double startingPosX{};
    double startingPosY{};

    std::vector<Sprite> spriteList;


    /**
    * Loads number of sprites, max points amount,
    * map itself
    * @param mapNumber
    */
    void loadMapDetails(int mapNumber);


};


#endif //RAYCASTER_MAP_H
